{"ast":null,"code":"var _jsxFileName = \"D:\\\\Trabalho\\\\TCC\\\\G10-Senai3S-STL\\\\ok-entregas-front\\\\src\\\\pages\\\\login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport logo from '../img/logo.png';\nimport welcome from '../img/welcome.png';\nimport '../css/base-style.css';\nimport '../css/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.efetuaLogin = event => {\n      event.preventDefault();\n      this.setState({\n        erroMensagem: '',\n        isLoading: true\n      });\n      axios.post('http://localhost:5000/api/login', {\n        email: this.state.email,\n        senha: this.state.senha\n      }).then(resposta => {\n        if (resposta.status === 200) {\n          localStorage.setItem('usuario-login', resposta.data.token);\n          console.log('Meu token: ' + resposta.data.token);\n          this.setState({\n            isLoading: false\n          });\n        }\n      }).catch(() => {\n        this.setState({\n          erroMensagem: \"E-mail ou senha inválidos! Tente novamente.\",\n          isLoading: false\n        });\n      });\n    };\n\n    this.atualizaStateCampo = async campo => {\n      this.setState({\n        [campo.target.name]: campo.target.value\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      senha: \"\",\n      erroMensagem: \"\",\n      isLoading: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"glass\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.efetuaLogin,\n            className: \"forms\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inputs\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"E-mail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                value: this.state.email,\n                onChange: this.atualizaStateCampo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inputs\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Senha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"senha\",\n                value: this.state.senha,\n                onChange: this.atualizaStateCampo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"forgot\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Esqueceu a sua senha ?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 62\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.erroMensagem\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), this.state.isLoading === true && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: true,\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 33\n            }, this), this.state.isLoading === false && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: this.state.email === '' || this.state.senha === '' ? 'none' : '',\n              className: \"btn\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"images\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ilustration\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: logo,\n              className: \"logo\",\n              alt: \"Logo OK Entregas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: welcome,\n              className: \"welcome\",\n              alt: \"Ilustra\\xE7\\xE3o com mensagem de bem-vindo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bc1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bc2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"square\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/Trabalho/TCC/G10-Senai3S-STL/ok-entregas-front/src/pages/login.js"],"names":["React","Component","Link","axios","logo","welcome","Login","constructor","props","efetuaLogin","event","preventDefault","setState","erroMensagem","isLoading","post","email","state","senha","then","resposta","status","localStorage","setItem","data","token","console","log","catch","atualizaStateCampo","campo","target","name","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport logo from '../img/logo.png'\r\nimport welcome from '../img/welcome.png'\r\n\r\nimport '../css/base-style.css'\r\nimport '../css/login.css'\r\n\r\nexport default class Login extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            senha: \"\",\r\n            erroMensagem: \"\",\r\n            isLoading: false\r\n        }\r\n    };\r\n\r\nefetuaLogin =(event) =>{\r\n    event.preventDefault();\r\n\r\n    this.setState({ erroMensagem:'', isLoading: true})\r\n    axios.post('http://localhost:5000/api/login', {\r\n        email: this.state.email,\r\n        senha: this.state.senha\r\n    })\r\n\r\n    .then(resposta => {\r\n        if(resposta.status ===200){\r\n            localStorage.setItem('usuario-login', resposta.data.token)\r\n\r\n            console.log('Meu token: ' + resposta.data.token)\r\n            this.setState({isLoading: false})\r\n        }\r\n    })\r\n\r\n    .catch(() => {\r\n        this.setState({ erroMensagem : \"E-mail ou senha inválidos! Tente novamente.\", isLoading: false})\r\n        \r\n    })\r\n}\r\n\r\natualizaStateCampo =  async (campo) => {\r\n    this.setState({ [campo.target.name] : campo.target.value})\r\n}\r\n\r\n    render() {\r\n        return (\r\n            <main>\r\n                <section className=\"glass\">\r\n                    <div className=\"user-info\">\r\n                        <h1>Login</h1>\r\n                        <form onSubmit={this.efetuaLogin} className=\"forms\">\r\n                            <div className=\"inputs\">\r\n                                <label>E-mail</label>\r\n                                <input\r\n                                type=\"email\"\r\n                                name=\"email\"\r\n                                value={this.state.email}\r\n                                onChange={this.atualizaStateCampo}\r\n                                \r\n                                ></input>\r\n                            </div>\r\n                            <div className=\"inputs\">\r\n                                <label>Senha</label>\r\n                                <input \r\n                                type=\"password\"\r\n                                name=\"senha\"\r\n                                value={this.state.senha}\r\n                                onChange={this.atualizaStateCampo}\r\n                                ></input>\r\n                            </div>\r\n                            <Link to =\"/\" className=\"forgot\"><p>Esqueceu a sua senha ?</p></Link>\r\n                            <p>{this.state.erroMensagem}</p>\r\n\r\n                            \r\n                            {\r\n                                this.state.isLoading === true && \r\n                                <button type=\"submit\" disabled>Loading...</button>\r\n                            }\r\n\r\n                            {\r\n                                this.state.isLoading === false && \r\n                                <button\r\n                                \r\n                                    type=\"submit\"\r\n                                    disabled={this.state.email ==='' || this.state.senha ==='' ? 'none' : ''}\r\n                                    className=\"btn\"\r\n                                >\r\n                                    Login\r\n                                </button>\r\n                            }\r\n\r\n                            {/* <button type=\"submit\" className=\"btn\">Logar</button>  */}\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"images\">\r\n                        <div className=\"ilustration\">\r\n                            <img src={logo} className=\"logo\" alt=\"Logo OK Entregas\"/>\r\n                            <img src={welcome} className=\"welcome\" alt=\"Ilustração com mensagem de bem-vindo\"/>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div className=\"bc1\"></div>\r\n                <div className=\"bc2\"></div>\r\n                <div className=\"circle\"></div>\r\n                <div className=\"square\"></div>\r\n            </main>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}